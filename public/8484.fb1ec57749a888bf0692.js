(self.webpackChunkdynamic_ui_ion=self.webpackChunkdynamic_ui_ion||[]).push([[8484],{8484:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ProductOrdersPageModule:()=>q});var o=n(8583),i=n(665),s=n(7823),r=n(2234),a=n(4091),c=n(8720),d=n(9265),l=n(8058);function g(e,t){if(1&e&&(c.TgZ(0,"h1"),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij(" ",e.title," ")}}function p(e,t){if(1&e&&(c.TgZ(0,"h1"),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij(" No se encontraron \xf3rdenes ",e.message," ")}}function u(e,t){if(1&e&&(c.TgZ(0,"ion-item",4),c.TgZ(1,"ion-avatar",5),c._UZ(2,"ion-icon",6),c.qZA(),c.TgZ(3,"ion-label"),c.TgZ(4,"h2"),c._uU(5),c.qZA(),c.TgZ(6,"p"),c._uU(7),c.qZA(),c.TgZ(8,"p"),c._uU(9),c.qZA(),c.qZA(),c.qZA()),2&e){const e=t.$implicit,n=c.oxw(2);c.Q6J("routerLink","/product-order-detail/"+e.id),c.xp6(2),c.Q6J("name",n.nameIcon()),c.xp6(3),c.Oqu(e.name),c.xp6(2),c.hij("Producto: ",e.products[0].name,""),c.xp6(2),c.hij("Lote: ",e.batches[0].name,"")}}function h(e,t){if(1&e&&(c.TgZ(0,"ion-card-content"),c.TgZ(1,"ion-grid"),c.TgZ(2,"ion-row"),c.TgZ(3,"ion-col",2),c.YNc(4,g,2,1,"h1",1),c.YNc(5,p,2,1,"h1",1),c.qZA(),c.qZA(),c.TgZ(6,"ion-row"),c.TgZ(7,"ion-col",2),c.YNc(8,u,10,5,"ion-item",3),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(4),c.Q6J("ngIf",0!=(null==e.pos?null:e.pos.length)),c.xp6(1),c.Q6J("ngIf",0==(null==e.pos?null:e.pos.length)),c.xp6(3),c.Q6J("ngForOf",e.pos)}}let Z=(()=>{class e{constructor(){}ngOnInit(){0==this.state?this.message="pendientes":2==this.state&&(this.message="cerradas"),console.log(this.pos)}nameIcon(){return 0==this.state?"checkmark-circle-outline":2==this.state?"close-circle-outline":void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-po-list"]],inputs:{title:"title",state:"state",pos:"pos"},decls:2,vars:1,consts:[[1,"card"],[4,"ngIf"],["size","12"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["slot","start"],["size","large",3,"name"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-card",0),c.YNc(1,h,9,3,"ion-card-content",1),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",t.pos))},directives:[s.PM,o.O5,s.FN,s.jY,s.Nd,s.wI,o.sg,s.Ie,s.YI,r.rH,s.BJ,s.gu,s.Q$],styles:[".card[_ngcontent-%COMP%]{min-height:600px;padding:10px 35px 35px;border-radius:40px;background-color:hsla(240,0%,40%,.432)}ion-item[_ngcontent-%COMP%]{--background:#0000;--border-color:#868686}.sc-ion-label-ios-s[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb,0,0,0),.4)}"]}),e})();var m=n(3019);const f=["slider"];function T(e,t){if(1&e&&c._UZ(0,"app-po-detail",17),2&e){const e=c.oxw();c.Q6J("po",e.po)("edit",!1)("user",e.user)("new",!1)}}const b=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.router=e,this.toastController=t,this.httpClient=n,this.storageService=o,this.ops={slidesPerView:1,spaceBetween:0,centeredSlides:!0,centeredSlidesBounds:!0,speed:500,freeMode:!1,freeModeSticky:!0,preventClicks:!0},this.data_loaded=!1,this.segment="process",this.new=!1}ngOnInit(){this.storageService.get(a.l.USER).then(e=>{this.user=e.user,console.log(this.user)})}ionViewWillEnter(){this.httpClient.getPOs().subscribe(e=>{console.log(e),this.po=e.filter(e=>1===e.state)[0],this.pos0=e.filter(e=>0===e.state),this.pos2=e.filter(e=>2===e.state),console.log(this.po,this.pos0,this.pos2),this.data_loaded=!0})}segmentChanged(e){let t=e.detail.value;switch(this.segment=t,t){case"process":this.slider.slideTo(0);break;case"pending":this.slider.slideTo(1);break;case"closed":this.slider.slideTo(2)}}newPO(){this.router.navigate(["product-order-detail/"])}slideChanged(){this.slider.getActiveIndex().then(e=>{switch(e){case 0:this.segment="process";break;case 1:this.segment="pending";break;case 2:this.segment="closed"}})}slideTouched(){this.slider.getSwiper().then(e=>{this.slider.slideTo(e.clickedIndex)})}goBack(){this.router.navigate(["home"])}getBackButtonText(){return window,"Atr\xe1s"}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(r.F0),c.Y36(s.yF),c.Y36(d.O),c.Y36(l.V))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-product-orders"]],viewQuery:function(e,t){if(1&e&&c.Gf(f,5),2&e){let e;c.iGM(e=c.CRH())&&(t.slider=e.first)}},decls:34,vars:8,consts:[["slot","start"],[3,"text"],[1,"segment-container"],[1,"segment"],[3,"ngModel","ionChange","ngModelChange"],["value","process"],["value","pending"],["value","closed"],[1,"background-po"],["pager","false",1,"width",3,"options","ionSlideDidChange","ionSlideTap"],["slider",""],[1,"card"],[3,"po","edit","user","new",4,"ngIf"],["title","Ordenes de trabajo pendientes",3,"pos","state"],["title","Ordenes de trabajo cerradas",3,"pos","state"],["vertical","bottom","horizontal","end","slot","fixed",3,"click"],["name","add-circle"],[3,"po","edit","user","new"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c._UZ(3,"ion-back-button",1),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Ordenes de trabajo"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content"),c.TgZ(7,"div",2),c.TgZ(8,"div",3),c.TgZ(9,"ion-segment",4),c.NdJ("ionChange",function(e){return t.segmentChanged(e)})("ngModelChange",function(e){return t.segment=e}),c.TgZ(10,"ion-segment-button",5),c.TgZ(11,"ion-label"),c._uU(12,"En proceso"),c.qZA(),c.qZA(),c.TgZ(13,"ion-segment-button",6),c.TgZ(14,"ion-label"),c._uU(15,"Pendientes"),c.qZA(),c.qZA(),c.TgZ(16,"ion-segment-button",7),c.TgZ(17,"ion-label"),c._uU(18,"Finalizadas"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"div",8),c.TgZ(20,"ion-slides",9,10),c.NdJ("ionSlideDidChange",function(){return t.slideChanged()})("ionSlideTap",function(){return t.slideTouched()}),c.TgZ(22,"ion-slide"),c.TgZ(23,"div",11),c.YNc(24,T,1,4,"app-po-detail",12),c.qZA(),c.qZA(),c.TgZ(25,"ion-slide"),c.TgZ(26,"div",11),c._UZ(27,"app-po-list",13),c.qZA(),c.qZA(),c.TgZ(28,"ion-slide"),c.TgZ(29,"div",11),c._UZ(30,"app-po-list",14),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"ion-fab",15),c.NdJ("click",function(){return t.newPO()}),c.TgZ(32,"ion-fab-button"),c._UZ(33,"ion-icon",16),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("text",t.getBackButtonText()),c.xp6(6),c.Q6J("ngModel",t.segment),c.xp6(11),c.Q6J("options",t.ops),c.xp6(4),c.Q6J("ngIf",t.data_loaded&&t.user),c.xp6(3),c.Q6J("pos",t.pos0)("state",0),c.xp6(3),c.Q6J("pos",t.pos2)("state",2))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,s.cJ,s.QI,i.JJ,i.On,s.GO,s.Q$,s.Hr,s.A$,o.O5,Z,s.IJ,s.W4,s.gu,m.b],styles:[".segment-container[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10000;padding-top:10px;padding-bottom:10px;width:100%;border-bottom:1px solid #666666e8;background-color:#000;box-shadow:45px 1px 25px #000}.segment[_ngcontent-%COMP%]{width:60%;margin:0 auto}.card[_ngcontent-%COMP%]{width:95%}.new-ot[_ngcontent-%COMP%]{background-color:gray}.background-po[_ngcontent-%COMP%]{background:#0b3681;background:radial-gradient(circle,#0b3681a6 0,#071220 35%,#041024d9 100%)}.width[_ngcontent-%COMP%]{width:100%}"]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),e})();var x=n(4562);let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,i.u5,s.Pc,x.B,A]]}),e})()}}]);